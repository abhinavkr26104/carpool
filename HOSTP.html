<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ola-like Ride Hailing (Blue Theme)</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        /* Color variables for dark blue and very light blue theme */
        :root {
            --dark-blue: #001f3f; /* Dark Blue */
            --light-blue: #7FDBFF; /* Very Light Blue */
            --border-color: #0074D9; /* Lighter Blue for borders */
            --white: #ffffff;
            --faded-text: #A0D2E6; /* Faded text color */
            --hover-blue: #005f8f; /* Hover state for buttons */
        }

        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark-blue);
            color: var(--white);
            line-height: 1.6;
        }

        /* Header styling */
       /* Header styling */
header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem;
    background-color: #2c3e50; /* Set background color to grey */
    color: #fff; /* Set text color to white */
    border-bottom: 1px solid #e5e5e5;
}

.logo {
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 1.25rem;
    color: #fff; /* Ensure the logo text is white */
}

.logo svg {
    margin-right: 0.5rem;
}

nav a {
    margin-left: 1rem;
    font-size: 0.875rem;
    color: #fff; /* Set navigation links to white */
    text-decoration: none; /* Remove underline for better appearance */
}

nav a:hover {
    text-decoration: underline; /* Add underline on hover */
}



        /* Main container */
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            display: flex;
            gap: 20px; /* Space between the map and form */
            flex-direction: row-reverse;
        }

        /* Map styling */
        #map {
            height: 450px;
            width: 60%; /* Adjust width for the map */
            border-radius: 8px;
            box-shadow: 0 0 15px var(--light-blue);
        }

        /* Controls section */
        /* Controls section */
.controls {
    background-color: var(--dark-blue);
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
    width: 40%;
    position: relative; /* Allows absolute positioning of the button */
}

/* Button styling */
button {
    padding: 15px 20px;
    background-color: var(--light-blue);
    color: var(--dark-blue);
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    text-transform: uppercase;
    transition: background-color 0.3s ease;
    position: absolute; /* Positioned relative to the parent .controls */
    bottom: 25px; /* Align to the bottom with a 20px gap */
    left: 50%; /* Align horizontally to the center */
    transform: translateX(-50%); /* Center the button horizontally */
}

button:hover {
    background-color: var(--hover-blue);
}


        .control-group {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 10px;
            color: var(--light-blue);
            font-weight: bold;
        }

        input[type="text"] {
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--faded-text);
            color: var(--dark-blue);
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input[type="text"]::placeholder {
            color: var(--faded-text);
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--light-blue);
        }

      
        #get-route
        {
         margin-top: 10px;
         
        }

       

        /* Fare information styling */
        #fare-info {
            background-color: var(--dark-blue);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
            margin-top: 25px;
            text-align: center;
            font-size: 22px;
            font-weight: bold;
            color: var(--light-blue);
        }
        /* Footer */
footer {
    background-color: #2c3e50;
    color: #fff;
    padding: 1.5rem 0; /* Increased padding for more space */
    margin-top: 3rem;
    display: flex;
    justify-content: space-between; /* Space between the items */
    align-items: center; /* Vertically center the items */
    flex-wrap: wrap; /* Ensure it wraps on smaller screens */
}

/* Footer text (p), navigation, and dark mode toggle in a single line */
footer p,
footer nav,
#dark-mode-toggle-container {
    flex: 1;
    text-align: center; /* Center align each item */
}

footer p {
    font-size: 0.9rem; /* Slightly smaller font for footer text */
    margin: 0; /* Remove extra margins */
}

footer nav {
    text-align: center;
}

footer nav a {
    color: #fff;
    text-decoration: none;
    margin: 0 1rem;
    font-size: 0.9rem; /* Adjust font size for footer links */
    transition: color 0.3s ease;
}

footer nav a:hover {
    color: #3498db;
}

/* Footer dark mode toggle */
#dark-mode-toggle-container {
    display: flex;
    justify-content: center;
    text-align: center;
}

footer #dark-mode-toggle-container button {
    background-color: #fff;
    border: none;
    color:white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

footer #dark-mode-toggle-container button:hover {
    background-color: #2980b9;
    transform: translateY(-3px);
}

/* Footer responsiveness */
@media (max-width: 768px) {
    footer {
        flex-direction: column; /* Stack items vertically on smaller screens */
        padding: 1rem 0;
    }

    footer nav a {
        display: block;
        margin: 0.5rem 0;
    }

    footer p,
    footer nav,
    #dark-mode-toggle-container {
        text-align: center; /* Ensure everything stays centered */
        margin-bottom: 0.5rem;
    }
}


        @media (max-width: 768px) {
            /* Adjust controls for mobile */
            .controls {
                width: 100%; /* Make form full width on mobile */
            }

            #map {
                width: 100%; /* Make map full width on mobile */
            }

            .container {
                flex-direction: column; /* Stack them vertically on small screens */
            }
        }
    </style>
</head>
<body>

    <!-- Header with logo -->
    <header>
        <a href="#" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><path d="M9 17h6"/><circle cx="17" cy="17" r="2"/></svg>
            goCorp
        </a>
        <nav>
            <a href="#features">Features</a>
            <a href="#how-it-works">How It Works</a>
            <a href="#">About</a>
            <a href="#">Contact</a>
        </nav>
    </header>


    <!-- Main content -->
    <div class="container">
        <!-- Map -->
        <div id="map"></div>

        <!-- Controls for entering ride details -->
        <div class="controls">
            <div class="control-group">
                <label for="start-lat">Pickup Latitude:</label>
                <input type="text" id="start-lat" placeholder="Pickup Latitude" value="40.7128">
            </div>
            <div class="control-group">
                <label for="start-lng">Pickup Longitude:</label>
                <input type="text" id="start-lng" placeholder="Pickup Longitude" value="-74.0060">
            </div>
            <div class="control-group">
                <label for="end-lat">Drop-off Latitude:</label>
                <input type="text" id="end-lat" placeholder="Drop-off Latitude" value="34.0522">
            </div>
            <div class="control-group">
                <label for="end-lng">Drop-off Longitude:</label>
                <input type="text" id="end-lng" placeholder="Drop-off Longitude" value="-118.2437">
            </div>
            <button id="get-route">Get Ride Estimate</button>
        </div>
    </div>

    <!-- Fare information section -->
    <div id="fare-info">Enter locations and click 'Get Ride Estimate'</div>
    <footer>
        <p>&copy; 2024 goCorp. All rights reserved.</p>
        <nav>
            <a href="#features">Features</a>
            <a href="#how-it-works">How It Works</a>
            <a href="#">About</a>
            <a href="#">Contact</a>
            <div id="dark-mode-toggle-container"></div> <!-- Placeholder for the toggle button -->
        </nav>
    </footer>
    
    <!-- Leaflet JS for the map -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // Initialize map
        const map = L.map('map').setView([28.6139, 77.2090], 6);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: 'Â© OpenStreetMap'
        }).addTo(map);

        let polyline;
        let markers = [];

        document.getElementById('get-route').addEventListener('click', () => {
            const apiKey = '5b3ce3597851110001cf6248ef865666c8c645ac8e63f7842baf7add';

            const startLat = document.getElementById('start-lat').value;
            const startLng = document.getElementById('start-lng').value;
            const endLat = document.getElementById('end-lat').value;
            const endLng = document.getElementById('end-lng').value;

            if (!startLat || !startLng || !endLat || !endLng) {
                alert('Please enter all coordinates.');
                return;
            }

            const start = [startLng, startLat];
            const end = [endLng, endLat];

            if (polyline) {
                map.removeLayer(polyline);
            }

            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            const options = {
                method: 'GET',
                headers: {
                    'Authorization': apiKey,
                    'Content-Type': 'application/json'
                }
            };

            fetch(`https://api.openrouteservice.org/v2/directions/driving-car?start=${start[0]},${start[1]}&end=${end[0]},${end[1]}`, options)
                .then(response => response.json())
                .then(data => {
                    if (data && data.features && data.features.length > 0) {
                        const route = data.features[0].geometry.coordinates;
                        const distance = data.features[0].properties.segments[0].distance;
                        const distanceKm = (distance / 1000).toFixed(2);
                        const fare = (distanceKm * 10).toFixed(2);

                        polyline = L.polyline(route.map(coord => [coord[1], coord[0]]), { color: '#7FDBFF', weight: 5 }).addTo(map);
                        map.fitBounds(polyline.getBounds());

                        document.getElementById('fare-info').innerHTML = `
                            <div>Estimated Distance: ${distanceKm} km</div>
                            <div>Estimated Fare: â¹${fare}</div>
                        `;

                        const startMarker = L.marker([start[1], start[0]], {
                            icon: L.divIcon({
                                className: 'custom-div-icon',
                                html: "<div style='background-color:#7FDBFF;color:black;padding:5px;border-radius:50%;'>A</div>",
                                iconSize: [30, 30],
                                iconAnchor: [15, 15]
                            })
                        }).addTo(map);

                        const endMarker = L.marker([end[1], end[0]], {
                            icon: L.divIcon({
                                className: 'custom-div-icon',
                                html: "<div style='background-color:#7FDBFF;color:black;padding:5px;border-radius:50%;'>B</div>",
                                iconSize: [30, 30],
                                iconAnchor: [15, 15]
                            })
                        }).addTo(map);

                        markers.push(startMarker, endMarker);

                        startMarker.bindPopup('Pickup').openPopup();
                        endMarker.bindPopup('Drop-off').openPopup();
                    } else {
                        alert('Could not calculate the route. Please check the coordinates or try again later.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while fetching the route. Please try again.');
                });
        });
    </script>
</body>
</html>
